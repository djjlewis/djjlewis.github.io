---
layout: post
title: Missing overlay icons in the TFS 2010 Windows Shell Extensions
date: '2010-10-04 16:01:49'
---

<p>I’ve just installed the <a href="http://visualstudiogallery.msdn.microsoft.com/en-us/c255a1e4-04ba-4f68-8f4e-cd473d6b971f">Team Foundation Server Power Tools September 2010</a> specifically for the Windows Shell Extensions which gives that <a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a> feel to working with TFS and allows you to see and make changes to your source without firing Visual Studio.</p>  <p>After the installer completed it warned that you will need to log off and on again in order to see the Windows Explorer icon overlays, and that you may even have to reboot on Windows Vista / 7 systems. As I am running Windows 7, and not particularly optimistic given Microsoft’s previous track record when it comes to reboots required, I went for the reboot option. On logging back in, I went straight to a folder containing a local workspace but alas, no overlay icons were being displayed!</p>  <p>I imagined installing the shell extensions would “just work” but in the unlikely event that there was some additional configuration involved I headed to the help files (these can be launched from the start menu, or from the program filesMS TFS Power ToolsHelp folder.)</p>  <p>The help file confirmed that these should “just work”, but one tid-bit at the end of the file caught my eye:</p>  <p>It was headed “Limitations” and briefly states that Windows only supports 15 registered icon overlays (four of which are reserved) and that if these are all used, you may not see the icons.</p>  <p>It suggests to run the following command in order to see all of the registered icon overlays:</p>  <p>“reg query HKLMSoftwareMicrosoftWindowsCurrentVersionExplorerShellIconOverlayIdentifiers”</p>  <p>Sure enough, after running the above command at a command line, I had around twenty registered (including the TFS ones). This was due to having TortoiseSvn, “Groove” (which must really refer to SharePoint WorkSpace as I have Office 2010 installed) and DropBox all of which register their own icon overlays.</p>  <p>At least I now know why they are not displaying. All I need to do now is decide which of the above I can get rid off in order to test the TFS overlays!</p>